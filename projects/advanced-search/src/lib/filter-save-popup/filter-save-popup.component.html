<div class="popup">

    <div class="header">
      Save and load search rules
    </div>
  
    <div class="content container">
  
      <!-- Load -->
      <div class="row mt-2">
        <!-- Dropdown -->
        <div class="col flx-center">
          <mat-form-field appearance="fill" style="white-space: nowrap; width: 100%;">
            <mat-label>Select search rule</mat-label>
            <mat-select [(value)]="selected" (selectionChange)="selectChanged()">
              <mat-option *ngFor="let filter of filters" [value]="filter.name">
                {{filter.name}}
                <span *ngIf="filter.isDefault">*</span>
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <!-- <mat-divider></mat-divider> -->
  
      <!-- Save -->
      <div class="row mt-2">
  
        <!-- Filter name -->
        <div class="col flx-center">
          <mat-form-field class="form-field" style="width: 100%;">
            <mat-label>Rule name</mat-label>
            <input matInput type="text" [(ngModel)]="newName" (keyup)="newNameChanged()">
          </mat-form-field>
        </div>
  
        <div class="col flx-center">
          <input type="checkbox" id="isDefaultCheck" [(ngModel)]="isDefault">
          <label for="isDefaultCheck" style="margin-bottom: 0; margin-left: 5px;">Autoload</label>
        </div>
  
      </div>
  
      <!-- <mat-divider></mat-divider> -->
  
      <div class="row footer">
  
        <div class="col flx-center">
          <button class="btn btn-sm btn-custom-primary" (click)="save()">
            <i class="fas fa-save"></i>
            Save
          </button>
        </div>
  
        <!-- Load button -->
        <div class="col flx-center">
          <button class="btn btn-sm btn-custom-primary" style="white-space: nowrap;" (click)="load()" [disabled]="selected===null">
            <i class="fas fa-folder-open"></i>
            Load
          </button>
        </div>
  
        <!-- Delete button -->
        <div class="col flx-center">
          <button class="btn btn-sm btn-custom-danger" style="white-space: nowrap;" (click)="del()" [disabled]="selected===null">
            <i class="fas fa-trash-alt"></i>
            Delete
          </button>
        </div>
  
      </div>
  
      <div class="row warning-row" *ngIf="filterNames.includes(newName)">
        Saving will overwrite existing search rule.
      </div>
  
    </div>
  
  </div>